<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<title>Class01</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=1274, user-scalable=no">
	<meta name="description" content="Class01">
	<meta name="author" content="">
	<meta name="generator" content="slidify" />
	<!-- LOAD STYLE SHEETS -->
	<link rel="stylesheet" href="libraries/frameworks/shower/themes/ribbon/styles/screen.css">
	<link rel="stylesheet" media="print"
	  href="libraries/frameworks/shower/themes/ribbon/styles/print.css">
	<link rel="stylesheet" href="libraries/highlighters/highlight.js/css/tomorrow.css">  <link rel="stylesheet" href = "assets/css/mystyle.css">
<link rel="stylesheet" href = "assets/css/ribbons.css">

	<!--
		To apply styles to the certain slides
		use slide ID to get needed elements
		-->
	<style>
		#Cover h2 {
      margin:65px 0 0;
			color:#FFF;
			text-align:center;
			font-size:70px;
			}
		#FitToWidth h2,
		#FitToHeight h2 {
			color:#FFF;
			text-align:center;
			}
	</style> 
</head>
<body class="list">
  <header class="caption">
  	<h1>Class01</h1>
	</header>
  <section class="slide " id="slide-1">
  <div>
    <h2>Install R packages</h2>
    <p>R has a lot of powerful packages. You need to load a package into memory before using it.</p>

<pre><code class="r">library(ggplot2) ## a package for plotting
</code></pre>

  </div>
</section>
<section class="slide modal" id="slide-2">
  <div>
    <h2>Install R packages</h2>
    <p>If you see an error message:</p>

<pre><code>there is no package called &#39;ggplot2&#39;
</code></pre>

<p>it means you don&#39;t have this package and you need to install it.</p>

<ul>
<li>Using GUI</li>
<li>Using command</li>
</ul>

  </div>
</section>
<section class="slide modal" id="slide-3">
  <div>
    <h2>Install R packages (using command)</h2>
    <pre><code class="r">## install directly from the default repository http://cran.r-project.org/
install.packages(&quot;ggplot2&quot;)

## download the package source, and then install from the downloaded file
download.file(&quot;http://cran.r-project.org/src/contrib/ggplot2_0.9.3.1.tar.gz&quot;, 
    destfile = &quot;~/Downloads/ggplot2_0.9.3.1.tar.gz&quot;)
install.packages(&quot;~/Downloads/ggplot2_0.9.3.1.tar.gz&quot;, repo = NULL, type = &quot;source&quot;)
</code></pre>

  </div>
</section>
<section class="slide modal" id="slide-4">
  <div>
    <h2>Getting help</h2>
    <pre><code class="r">?read.delim # Access a function&#39;s help file

??base::delim # Search for &#39;delim&#39; in all help files for functions in &#39;base&#39;

help.search(&quot;delim&quot;) # Search for &#39;delimited&#39; in all help files

RSiteSearch(&quot;parsing text&quot;) # Search for the term &#39;parsing text&#39; on the R site
</code></pre>

  </div>
</section>
<section class="slide modal" id="slide-5">
  <div>
    <h2>Working with data</h2>
    <pre><code class="r">## give the filename of your data; the file can be an URL
data.file = &#39;http://www.yurulin.com/class/spring2014_datamining/data/ml_hackers/01_heights_weights_genders.csv&#39;
heights.weights = read.csv(data.file , header = TRUE , sep = &#39;,&#39;)
View(heights.weights)
</code></pre>

<p><img src="assets/img/data_frame.png" alt="pic"></p>

  </div>
</section>
<section class="slide modal" id="slide-6">
  <div>
    <h2>Working with data</h2>
    <pre><code class="r">class(heights.weights)
</code></pre>

<pre><code>## [1] &quot;data.frame&quot;
</code></pre>

<pre><code class="r">dim(heights.weights) # show the dimension of the data
</code></pre>

<pre><code>## [1] 10000     3
</code></pre>

  </div>
</section>
<section class="slide modal" id="slide-7">
  <div>
    <h2>Working with data: summary</h2>
    <pre><code class="r">## R summary function
# ?summary
summary(heights.weights)
</code></pre>

<pre><code>##     Gender         Height          Weight     
##  Female:5000   Min.   :54.26   Min.   : 64.7  
##  Male  :5000   1st Qu.:63.51   1st Qu.:135.8  
##                Median :66.32   Median :161.2  
##                Mean   :66.37   Mean   :161.4  
##                3rd Qu.:69.17   3rd Qu.:187.2  
##                Max.   :79.00   Max.   :270.0
</code></pre>

  </div>
</section>
<section class="slide modal" id="slide-8">
  <div>
    <h2>Working with data: summary</h2>
    <pre><code class="r">summary(heights.weights$Height) # summary for the &#39;Height&#39; column  
</code></pre>

<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   54.26   63.51   66.32   66.37   69.17   79.00
</code></pre>

  </div>
</section>
<section class="slide modal" id="slide-9">
  <div>
    <h2>Working with data</h2>
    <pre><code class="r">## Means, Medians, Modes
heights = heights.weights$Height
mean(heights)
</code></pre>

<pre><code>## [1] 66.36756
</code></pre>

<pre><code class="r">median(heights)
</code></pre>

<pre><code>## [1] 66.31807
</code></pre>

<pre><code class="r">min(heights); max(heights)
</code></pre>

<pre><code>## [1] 54.26313
</code></pre>

<pre><code>## [1] 78.99874
</code></pre>

  </div>
</section>
<section class="slide modal" id="slide-10">
  <div>
    <h2>Working with data: Quantiles</h2>
    <pre><code class="r">quantile(heights)
</code></pre>

<pre><code>##       0%      25%      50%      75%     100% 
## 54.26313 63.50562 66.31807 69.17426 78.99874
</code></pre>

<pre><code class="r">quantile(heights, prob = 0.25)
</code></pre>

<pre><code>##      25% 
## 63.50562
</code></pre>

<pre><code class="r">quantile(heights, probs = seq(0, 1, by = 0.20))
</code></pre>

<pre><code>##       0%      20%      40%      60%      80%     100% 
## 54.26313 62.85901 65.19422 67.43537 69.81162 78.99874
</code></pre>

  </div>
</section>
<section class="slide modal" id="slide-11">
  <div>
    <h2>Working with data</h2>
    <pre><code class="r">## Standard Deviations and Variances
sd(heights)
</code></pre>

<pre><code>## [1] 3.847528
</code></pre>

<pre><code class="r">var(heights)
</code></pre>

<pre><code>## [1] 14.80347
</code></pre>

<pre><code class="r">## Tabulation
table(heights.weights$Gender)
</code></pre>

<pre><code>## 
## Female   Male 
##   5000   5000
</code></pre>

  </div>
</section>
<section class="slide modal" id="slide-12">
  <div>
    <h2>Working with data</h2>
    <pre><code class="r">## Correlation 
weights = heights.weights$Weight
cor(heights,weights)
</code></pre>

<pre><code>## [1] 0.9247563
</code></pre>

  </div>
</section>
<section class="slide modal" id="slide-13">
  <div>
    <h2>Plotting</h2>
    <pre><code class="r">## Histogram and Density
library(&#39;ggplot2&#39;) 
theme_set(theme_bw()) # change the default ggplot theme to black-and-white

ggplot(heights.weights, aes(x = Height)) +
  geom_histogram(binwidth=1) 
</code></pre>

<p><img src="assets/fig/unnamed-chunk-10-1.png" alt="plot of chunk unnamed-chunk-10"></p>

  </div>
</section>
<section class="slide modal" id="slide-14">
  <div>
    <h2>Plotting</h2>
    <pre><code class="r">ggplot(heights.weights, aes(x = Height)) +
  geom_histogram(binwidth=0.5) # try different value for binwidth 
</code></pre>

<p><img src="assets/fig/unnamed-chunk-11-1.png" alt="plot of chunk unnamed-chunk-11"></p>

  </div>
</section>
<section class="slide modal" id="slide-15">
  <div>
    <h2>Plotting</h2>
    <pre><code class="r">ggplot(heights.weights, aes(x = Height)) +
  geom_density()
</code></pre>

<p><img src="assets/fig/unnamed-chunk-12-1.png" alt="plot of chunk unnamed-chunk-12"></p>

  </div>
</section>
<section class="slide modal" id="slide-16">
  <div>
    <h2>Plotting</h2>
    <pre><code class="r">## conditional density plot
ggplot(heights.weights, aes(x = Weight, fill = Gender)) +
  geom_density(alpha = 0.5) 
</code></pre>

<p><img src="assets/fig/unnamed-chunk-13-1.png" alt="plot of chunk unnamed-chunk-13"></p>

  </div>
</section>
<section class="slide modal" id="slide-17">
  <div>
    <h2>Plotting</h2>
    <pre><code class="r">ggplot(heights.weights, aes(x = Weight)) +
  geom_density(alpha = 0.5) + facet_grid(Gender ~ .) 
</code></pre>

<p><img src="assets/fig/unnamed-chunk-14-1.png" alt="plot of chunk unnamed-chunk-14"></p>

  </div>
</section>
<section class="slide modal" id="slide-18">
  <div>
    <h2>Plotting</h2>
    <pre><code class="r">ggplot(heights.weights, aes(x = Weight, fill = Gender)) +
  geom_density(alpha = 0.5) + facet_grid(Gender ~ .)  
</code></pre>

<p><img src="assets/fig/unnamed-chunk-15-1.png" alt="plot of chunk unnamed-chunk-15"></p>

  </div>
</section>
<section class="slide modal" id="slide-19">
  <div>
    <h2>Plotting</h2>
    <pre><code class="r">## Scatterplot
ggplot(heights.weights, aes(x = Weight, y = Height)) + geom_point()
</code></pre>

<p><img src="assets/fig/unnamed-chunk-16-1.png" alt="plot of chunk unnamed-chunk-16"></p>

  </div>
</section>
<section class="slide modal" id="slide-20">
  <div>
    <h2>Plotting</h2>
    <pre><code class="r">ggplot(heights.weights, aes(x = Weight, y = Height, color = Gender)) + geom_point()
</code></pre>

<p><img src="assets/fig/unnamed-chunk-17-1.png" alt="plot of chunk unnamed-chunk-17"></p>

  </div>
</section>
<section class="slide modal" id="slide-21">
  <div>
    <h2>Plotting</h2>
    <pre><code class="r">ggplot(heights.weights, aes(x = Weight, y = Height)) + geom_point(shape=1) + # use hollow circles 
  geom_smooth(method=lm, # add linear regression line
              se=FALSE) # (by default includes 95% confidence region)  
</code></pre>

<p><img src="assets/fig/unnamed-chunk-18-1.png" alt="plot of chunk unnamed-chunk-18"></p>

  </div>
</section>
<section class="slide " id="slide-22">
  <div>
    <h2>More about plotting</h2>
    <p>See: <a href="http://www.cookbook-r.com/Graphs/">http://www.cookbook-r.com/Graphs/</a></p>

  </div>
</section>
<section class="slide modal" id="slide-23">
  <div>
    <h2>Example 1</h2>
    <pre><code class="r">require(lattice)  
require(nutshell) 
data(births2006.smpl)
births2006.smpl[1:3,]
</code></pre>

<pre><code>##         DOB_MM DOB_WK MAGER TBO_REC WTGAIN SEX APGAR5             DMEDUC
## 591430       9      1    25       2     NA   F     NA               NULL
## 1827276      2      6    28       2     26   M      9 2 years of college
## 1705673      2      2    18       2     25   F      9               NULL
##         UPREVIS ESTGEST DMETH_REC  DPLURAL DBWT
## 591430       10      99   Vaginal 1 Single 3800
## 1827276      10      37   Vaginal 1 Single 3625
## 1705673      14      38   Vaginal 1 Single 3650
</code></pre>

  </div>
</section>
<section class="slide modal" id="slide-24">
  <div>
    <h2>Example 1</h2>
    <pre><code class="r">dim(births2006.smpl) # the dimension of the data frame (data matrix)
</code></pre>

<pre><code>## [1] 427323     13
</code></pre>

  </div>
</section>
<section class="slide modal" id="slide-25">
  <div>
    <h2>Example 1</h2>
    <pre><code class="r">## generate frequency tables
births.dow=table(births2006.smpl$DOB_WK)
births.dow 
</code></pre>

<pre><code>## 
##     1     2     3     4     5     6     7 
## 40274 62757 69775 70290 70164 68380 45683
</code></pre>

  </div>
</section>
<section class="slide modal" id="slide-26">
  <div>
    <h2>Example 1</h2>
    <pre><code class="r">barchart(births.dow,ylab=&quot;Day of Week&quot;,col=&quot;black&quot;)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-22-1.png" alt="plot of chunk unnamed-chunk-22"></p>

  </div>
</section>
<section class="slide modal" id="slide-27">
  <div>
    <h2>Example 1</h2>
    <pre><code class="r">## plot by ggplot
ggplot(data = births2006.smpl, aes(x=factor(DOB_WK))) + 
  geom_histogram(stat=&quot;count&quot;, binwidth=1) + 
  scale_x_discrete(&quot;Day of Week&quot;) + scale_y_continuous(&quot;Freq&quot;) + 
  coord_flip()
</code></pre>

<p><img src="assets/fig/unnamed-chunk-23-1.png" alt="plot of chunk unnamed-chunk-23"></p>

  </div>
</section>
<section class="slide modal" id="slide-28">
  <div>
    <h2>Example 1</h2>
    <pre><code class="r">dob.dm.tbl=table(WK=births2006.smpl$DOB_WK,MM=births2006.smpl$DMETH_REC)
dob.dm.tbl
</code></pre>

<pre><code>##    MM
## WK  C-section Unknown Vaginal
##   1      8836      90   31348
##   2     20454     272   42031
##   3     22921     247   46607
##   4     23103     252   46935
##   5     22825     258   47081
##   6     23233     289   44858
##   7     10696     109   34878
</code></pre>

  </div>
</section>
<section class="slide modal" id="slide-29">
  <div>
    <h2>Example 1</h2>
    <pre><code class="r">dob.dm.tbl=dob.dm.tbl[,-2]
dob.dm.tbl
</code></pre>

<pre><code>##    MM
## WK  C-section Vaginal
##   1      8836   31348
##   2     20454   42031
##   3     22921   46607
##   4     23103   46935
##   5     22825   47081
##   6     23233   44858
##   7     10696   34878
</code></pre>

  </div>
</section>
<section class="slide modal" id="slide-30">
  <div>
    <h2>Example 1</h2>
    <pre><code class="r">## plot by ggplot
ggplot(data = births2006.smpl, aes(x=factor(DOB_WK),fill=factor(DMETH_REC) )) + 
  geom_histogram(stat=&quot;count&quot;) + 
  scale_x_discrete(&quot;Day of Week&quot;) + scale_y_continuous(&quot;Freq&quot;) +
  scale_fill_discrete(name=&quot;method of\ndelivery&quot;) +
  coord_flip()
</code></pre>

<p><img src="assets/fig/unnamed-chunk-26-1.png" alt="plot of chunk unnamed-chunk-26"></p>

  </div>
</section>
<section class="slide modal" id="slide-31">
  <div>
    <h2>Example 1</h2>
    <pre><code class="r">## generate conditional histogram and density plots
histogram(~DBWT|DPLURAL,data=births2006.smpl,layout=c(1,5),col=&quot;black&quot;)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-27-1.png" alt="plot of chunk unnamed-chunk-27"></p>

  </div>
</section>
<section class="slide modal" id="slide-32">
  <div>
    <h2>Example 1</h2>
    <pre><code class="r">## plot by ggplot
ggplot(data = births2006.smpl,aes(x=DBWT)) + facet_grid(DPLURAL~.,scales=&quot;free_y&quot;) + 
  geom_histogram(binwidth=500)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-28-1.png" alt="plot of chunk unnamed-chunk-28"></p>

  </div>
</section>
<section class="slide modal" id="slide-33">
  <div>
    <h2>Example 1</h2>
    <pre><code class="r">histogram(~DBWT|DMETH_REC,data=births2006.smpl,layout=c(1,3),col=&quot;black&quot;)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-29-1.png" alt="plot of chunk unnamed-chunk-29"></p>

  </div>
</section>
<section class="slide modal" id="slide-34">
  <div>
    <h2>Example 1</h2>
    <pre><code class="r">densityplot(~DBWT|DPLURAL,data=births2006.smpl,layout=c(1,5),plot.points=FALSE,col=&quot;black&quot;)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-30-1.png" alt="plot of chunk unnamed-chunk-30"></p>

  </div>
</section>
<section class="slide modal" id="slide-35">
  <div>
    <h2>Example 1</h2>
    <pre><code class="r">## plot by ggplot
ggplot(data = births2006.smpl,aes(x=DBWT)) + facet_grid(DPLURAL~., scales=&quot;free_y&quot;) + 
  geom_density()  
</code></pre>

<p><img src="assets/fig/unnamed-chunk-31-1.png" alt="plot of chunk unnamed-chunk-31"></p>

  </div>
</section>
<section class="slide modal" id="slide-36">
  <div>
    <h2>Example 2: thin-tailed v. heavy-tailed</h2>
    <pre><code class="r">set.seed(1)
normal.values &lt;- rnorm(100000, 0, 1)
cauchy.values &lt;- rcauchy(100000, 0, 1)
range(normal.values)
</code></pre>

<pre><code>## [1] -4.542122  4.313621
</code></pre>

<pre><code class="r">range(cauchy.values)  
</code></pre>

<pre><code>## [1] -65027.14  44901.98
</code></pre>

  </div>
</section>
<section class="slide modal" id="slide-37">
  <div>
    <h2>Example 2: thin-tailed v. heavy-tailed</h2>
    <pre><code class="r">D=data.frame(X = cauchy.values,distribution=&#39;cauchy&#39;)
D=rbind(D,data.frame(X = normal.values,distribution=&#39;normal&#39;))
ggplot(data=D, aes(x=X, linetype=distribution)) + 
  geom_density() + 
  scale_x_continuous(limits = c(-6, 6))
</code></pre>

<p><img src="assets/fig/unnamed-chunk-33-1.png" alt="plot of chunk unnamed-chunk-33"></p>

  </div>
</section>
<section class="slide modal" id="slide-38">
  <div>
    <h2>Example 3: Power law</h2>
    <pre><code class="r">## the frequency of family names can be downloaded from the 2000 Census:
## http://www.census.gov/genealogy/www/data/2000surnames/
data.url = &#39;http://www.yurulin.com/class/archive/fall2013_datamining/data/others&#39;
data.file = sprintf(&#39;%s/Top1000names.csv&#39;,data.url)
topfamilynames = read.csv(data.file,stringsAsFactors=FALSE)
namecount = topfamilynames[-1,1:3]
names(namecount) = c(&#39;Surnames&#39;,&#39;Rank&#39;,&#39;Count&#39;)
D=namecount[order(as.numeric(namecount$Count),decreasing=T),]
D[1:3,]
</code></pre>

<pre><code>##   Surnames Rank   Count
## 2    SMITH    1 2376206
## 3  JOHNSON    2 1857160
## 4 WILLIAMS    3 1534042
</code></pre>

  </div>
</section>
<section class="slide modal" id="slide-39">
  <div>
    <h2>Example 3: Power law</h2>
    <pre><code class="r">data = as.numeric(namecount$Count)
# rank the family names according to frequency, from largest to smallest
data = sort(data,decreasing=TRUE) 
hist(data,xlab=&#39;Number of Family Surnames&#39;,main=&#39;Histogram of Family Surnames&#39;)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-35-1.png" alt="plot of chunk unnamed-chunk-35"></p>

  </div>
</section>
<section class="slide modal" id="slide-40">
  <div>
    <h2>Example 3: Power law</h2>
    <pre><code class="r">plot(data,type=&#39;l&#39;,
     ylab=&#39;Frequency of Family Surnames&#39;,
     xlab=&#39;Index&#39;,
     main=&#39;Plot of Family Surnames&#39;)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-36-1.png" alt="plot of chunk unnamed-chunk-36"></p>

  </div>
</section>
<section class="slide modal" id="slide-41">
  <div>
    <h2>Example 3: Power law</h2>
    <pre><code class="r">plot(data,type=&#39;p&#39;,log=&#39;xy&#39;,
     ylab=&#39;Frequency of Family Surnames&#39;,
     xlab=&#39;Index&#39;,
     main=&#39;Log-log Plot of Family Surnames&#39;)  
</code></pre>

<p><img src="assets/fig/unnamed-chunk-37-1.png" alt="plot of chunk unnamed-chunk-37"></p>

  </div>
</section>
  <div class="progress">
    <div></div>
  </div>
	<script src="libraries/frameworks/shower/shower.js"></script>
	<!-- LOAD HIGHLIGHTER JS FILES -->
	<script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	<!-- DONE LOADING HIGHLIGHTER JS FILES -->
	 
		<!-- Copyright © 2010–2012 Vadim Makeev — pepelsbey.net -->
	<!-- Photos by John Carey — fiftyfootshadows.net -->
</body>
</html>